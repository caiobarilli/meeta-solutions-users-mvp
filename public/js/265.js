"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[265],{2265:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});t(7294);var n=t(5482),a=t(9680),s=t(1636),o=t(7369),l=t(5893);const i=function(e){var r=e.onDelete,t=e.children,n=e.className;return(0,l.jsx)("button",{className:n,tabIndex:"-1",type:"button",onClick:r,children:t})};var c=t(2981),u=t(3050),d=["label","name","className","children","errors"];function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const p=function(e){var r=e.label,t=e.name,n=e.className,a=e.children,s=e.errors,o=void 0===s?[]:s,i=b(e,d);return(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("select",f(f({id:t,name:t},i),{},{className:"form-select ".concat(o.length?"error":""),children:a})),o&&(0,l.jsx)("div",{className:"form-error",children:o}),r&&(0,l.jsxs)("label",{htmlFor:t,children:[r,":"]})]})};var v=t(3586);const j=function(e){var r=e.onRestore,t=e.children;return(0,l.jsx)("div",{class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",children:(0,l.jsxs)("div",{class:"toast-body",children:[t,(0,l.jsx)("div",{class:"mt-2 pt-2 border-top",children:(0,l.jsx)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:r,children:"Recuperar"})})]})})};var x=function(){var e=(0,s.qt)().props,r=e.user,t=e.auth,o=(0,s.cI)({first_name:r.first_name||"",last_name:r.last_name||"",email:r.email||"",password:r.password||"",owner:r.owner?"1":"0",role:r.role,photo:"",_method:"PUT"}),d=o.data,m=o.setData,f=o.errors,h=o.post,b=o.processing;var x="owner"===t.user.role;return(0,l.jsxs)("div",{className:"p-3",children:[(0,l.jsxs)("div",{className:"col-lg-12",children:[(0,l.jsx)(n.ZP,{title:"".concat(d.first_name," ").concat(d.last_name)}),(0,l.jsx)("div",{className:"my-2",children:(0,l.jsxs)("h1",{children:[x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.ZQ,{className:"table",href:route("users"),children:"Usuários"}),(0,l.jsx)("span",{className:" mx-2",children:" /"})]}),r.photo&&(0,l.jsx)("img",{className:"rounded-circle me-2",height:"40",width:"40",src:r.photo}),d.first_name," ",d.last_name]})}),r.deleted_at&&(0,l.jsx)(j,{onRestore:function(){confirm("Tem certeza de que deseja recuperar esse usuário?")&&a.Inertia.put(route("users.restore",r.id))},children:"Esse usuário foi apagado."})]}),(0,l.jsx)("div",{className:"col-lg-5",children:(0,l.jsx)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(route("users.update",r.id))},children:[(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)(v.Z,{className:"col-md-3",label:"Imagem do perfil",name:"photo",accept:"image/*",errors:f.photo,value:d.photo,onChange:function(e){return m("photo",e)}})}),(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)(u.Z,{className:"form-floating mb-3 mb-md-0",label:"Nome",name:"first_name",type:"text",placeholder:"Enter your first name",errors:f.first_name,value:d.first_name,onChange:function(e){return m("first_name",e.target.value)}})})}),(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)(u.Z,{className:"form-floating",label:"Sobrenome",name:"last_name",errors:f.last_name,value:d.last_name,onChange:function(e){return m("last_name",e.target.value)}})})}),(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)(u.Z,{className:"form-floating",label:"E-mail",name:"email",type:"email",errors:f.email,value:d.email,onChange:function(e){return m("email",e.target.value)}})})}),(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)(u.Z,{className:"form-floating",label:"Senha",name:"password",type:"password",errors:f.password,value:d.password,onChange:function(e){return m("password",e.target.value)}})})}),x&&(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)(p,{className:"form-floating",label:"Cargo",name:"owner",errors:f.role,value:d.role,onChange:function(e){return m("role",e.target.value)},children:[(0,l.jsx)("option",{value:"owner",children:"Adminstrador"}),(0,l.jsx)("option",{value:"user",children:"Usuário"})]})})}),(0,l.jsxs)("div",{className:"mt-4 mb-0",children:[x&&(0,l.jsx)(i,{className:"btn btn-danger",onDelete:function(){confirm("Tem certeza de que deseja apagar esse usuário?")&&a.Inertia.delete(route("users.destroy",r.id))},children:"Apagar Usuário"}),(0,l.jsx)(c.Z,{loading:b,type:"submit",className:"btn btn-blue",children:"Atualizar"})]})]})})})})]})};x.layout=function(e){return(0,l.jsx)(o.Z,{children:e})};const y=x},3586:(e,r,t)=>{t.d(r,{Z:()=>c});var n=t(7294),a=t(8537),s=t(5893);function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,s=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return s}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var i=function(e){var r=e.text,t=e.onClick;return(0,s.jsx)("button",{type:"button",className:"btn btn-purple",onClick:t,children:r})};const c=function(e){var r=e.className,t=e.name,l=e.label,c=e.accept,u=e.errors,d=void 0===u?[]:u,m=e.onChange,f=(0,n.useRef)(),h=o((0,n.useState)(null),2),b=h[0],p=h[1],v=o((0,n.useState)(""),2),j=v[0],x=v[1];return(0,s.jsxs)("div",{className:r,children:[l&&(0,s.jsxs)("label",{className:"form-label",htmlFor:t,children:[l,":"]}),(0,s.jsxs)("div",{className:"form-input p-0 ".concat(d.length&&"error"),children:[(0,s.jsx)("input",{id:t,ref:f,accept:c,type:"file",className:"d-none",onChange:function(e){var r=new FileReader,t=e.target.files[0];r.onloadend=function(){x(r.result)},r.readAsDataURL(t),p(t),m(t)}}),!b&&(0,s.jsx)(i,{text:"Procurar Imagem",onClick:function(){f.current.click()}}),b&&(0,s.jsxs)("div",{className:"d-flex flex-column ",children:[(0,s.jsx)("img",{src:j,className:"mt-1",width:"80",height:"80"}),b.name,(0,s.jsxs)("span",{className:"mb-2",children:["(",(0,a.G)(b.size),")"]}),(0,s.jsx)(i,{text:"Remover",onClick:function(){p(null),m(null),f.current.value=null}})]})]}),d.length>0&&(0,s.jsx)("div",{className:"form-error",children:d})]})}},2981:(e,r,t)=>{t.d(r,{Z:()=>d});t(7294);var n=t(4184),a=t.n(n),s=t(5893),o=["loading","className","children"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const d=function(e){var r=e.loading,t=e.className,n=e.children,l=u(e,o),c=a()("flex items-center","focus:outline-none",{"pointer-events-none bg-opacity-75 select-none":r},t);return(0,s.jsxs)("button",i(i({disabled:r,className:c},l),{},{children:[r&&(0,s.jsx)("div",{className:"mr-2 btn-spinner position-absolute"}),n]}))}},3050:(e,r,t)=>{t.d(r,{Z:()=>c});t(7294);var n=t(5893),a=["label","name","className","errors"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const c=function(e){var r=e.label,t=e.name,s=e.className,l=e.errors,c=void 0===l?[]:l,u=i(e,a);return(0,n.jsxs)("div",{className:s,children:[(0,n.jsx)("input",o(o({id:t,name:t},u),{},{className:"form-control ".concat(c.length?"error":"")})),c&&(0,n.jsx)("div",{className:"form-error",children:c}),r&&(0,n.jsxs)("label",{htmlFor:t,children:[r,":"]})]})}},7369:(e,r,t)=>{t.d(r,{Z:()=>p});var n=t(7294),a=t(5482),s=t(1636),o=t(5893);const l=function(e){var r=e.name,t=e.className;return"home"===r?(0,o.jsx)("svg",{viewBox:"0 0 448 512",width:"15",className:t,children:(0,o.jsx)("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})}):null};function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,s=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return s}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}const u=function(){var e=(0,s.qt)().props,r=e.app,t=e.auth,a=i((0,n.useState)(!1),2),c=a[0],u=a[1],d="owner"===t.user.role;return(0,o.jsxs)("nav",{className:"sb-topnav navbar navbar-expand navbar-dark bg-dark",children:[(0,o.jsx)(s.ZQ,{className:"navbar-brand ps-3",href:route("home"),children:r.name}),(0,o.jsx)("div",{className:"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"}),(0,o.jsx)("ul",{className:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4 ",children:(0,o.jsxs)("li",{className:"nav-item dropdown",children:[(0,o.jsx)("div",{onClick:function(){u((function(e){return!e}))},className:"nav-link dropdown-toggle",role:"button",children:(0,o.jsx)(l,{name:"home",className:"svg-inline--fa fa-user fa-w-14 fa-fw"})}),(0,o.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end position-static ".concat(c&&"d-block position-absolute top-1 end-0"),children:[(0,o.jsx)("li",{children:(0,o.jsx)(s.ZQ,{className:"dropdown-item",href:route("users.edit",t.user.id),children:"Perfil"})}),d&&(0,o.jsx)("li",{children:(0,o.jsx)(s.ZQ,{className:"dropdown-item",href:route("users"),children:"Usuários"})}),(0,o.jsx)("li",{children:(0,o.jsx)("hr",{className:"dropdown-divider"})}),(0,o.jsx)("li",{children:(0,o.jsx)(s.rU,{className:"dropdown-item",href:route("logout"),method:"post",as:"button",type:"button",children:"Logout"})})]})]})})]})},d=function(){var e=(0,s.qt)().props.auth;return(0,o.jsx)("div",{id:"layoutSidenav_nav",children:(0,o.jsxs)("nav",{className:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion",children:[(0,o.jsx)("div",{className:"sb-sidenav-menu",children:(0,o.jsxs)("div",{className:"nav",children:[(0,o.jsx)("div",{className:"sb-sidenav-menu-heading",children:"SITE"}),(0,o.jsx)(s.ZQ,{className:"nav-link",href:route("home"),children:"Home"}),(0,o.jsx)("div",{className:"sb-sidenav-menu-heading",children:"DASHBOARD"}),(0,o.jsx)(s.ZQ,{className:"nav-link",href:route("dashboard"),children:"Home"}),(0,o.jsx)(s.ZQ,{className:"nav-link",href:route("users"),children:"Usuários"})]})}),(0,o.jsxs)("div",{className:"sb-sidenav-footer",children:[(0,o.jsx)("div",{className:"small",children:"Logged in as:"}),e.user.name]})]})})};function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,s=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return s}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}const h=function(){var e=m((0,n.useState)(!1),2),r=e[0],t=e[1],a=(0,s.qt)().props,l=a.flash,i=a.errors,c=Object.keys(i).length;return(0,n.useEffect)((function(){t(!0)}),[l,i]),(0,o.jsxs)("div",{children:[l.success&&r&&(0,o.jsx)("div",{class:"toast align-items-center bg-success text-white  p-2",role:"alert","aria-live":"assertive","aria-atomic":"true",children:(0,o.jsxs)("div",{class:"d-flex",children:[(0,o.jsx)("div",{class:"toast-body",children:l.success}),(0,o.jsx)("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close",onClick:function(){return t(!1)}})]})}),(l.error||c>0)&&r&&(0,o.jsx)("div",{class:"toast align-items-center bg-danger text-white p-2",role:"alert","aria-live":"assertive","aria-atomic":"true",children:(0,o.jsxs)("div",{class:"d-flex",children:[(0,o.jsx)("div",{class:"toast-body",children:l.error&&l.error}),1===c&&"Há um erro no formulário",c>1&&"Há  ".concat(c," erros no formulário."),(0,o.jsx)("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close",onClick:function(){return t(!1)}})]})})]})},b=function(){return(0,o.jsx)("footer",{className:"py-4 bg-light mt-auto",children:(0,o.jsx)("div",{className:"container-fluid px-4",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-between small",children:(0,o.jsx)("div",{className:"text-muted",children:"Copyright © Meet Solutions 2022"})})})})};function p(e){var r=e.title,t=e.children;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.ZP,{titleTemplate:"%s | Meeta Solutions",title:r}),(0,o.jsxs)("div",{children:[(0,o.jsx)(u,{}),(0,o.jsxs)("div",{id:"layoutSidenav",children:[(0,o.jsx)(d,{}),(0,o.jsxs)("div",{id:"layoutSidenav_content",children:[(0,o.jsx)(h,{}),t,(0,o.jsx)(b,{})]})]})]})]})}},8537:(e,r,t)=>{function n(e){var r=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,r)).toFixed(2)+" "+["B","kB","MB","GB","TB"][r]}function a(e){var r=new Date(e),t=r.getDate().toString(),n=(r.getMonth()+1).toString();return(1==t.length?"0"+t:t)+"/"+(1==n.length?"0"+n:n)+"/"+r.getFullYear()}t.d(r,{G:()=>n,p:()=>a})}}]);
//# sourceMappingURL=265.js.map?id=5779acbed31a88ee